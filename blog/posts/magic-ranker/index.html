<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <title>LexToumbourou.com - Magic Ranker</title>
    <link rel="stylesheet" type="text/css" href="/theme/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/theme/css/pygment.css" />
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//yandex.st/highlightjs/7.3/styles/github.min.css">
    <link rel="alternate" type="application/atom+xml" title="LexToumbourou.com" href="http://lextoumbourou.github.io/atom.xml">

      <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
      <!--[if lt IE 8]>
        <link rel="stylesheet" href="css/blueprint/ie.css" type="text/css" media="screen, projection">
      <![endif]-->
      <script type="text/javascript" src="/theme/js/app.js"></script>
    <noscript>
      <style>
        div.article_body {
          opacity: 1;
        }
        ul.articles {
          opacity: 1;
        }
      </style>
    </noscript>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-33772243-5', 'auto');
      ga('send', 'pageview');
    </script>
  </head>

  <body>
    <div id="container">

      <div id="header">
        <div id="side-header">
          <a href="/pages/about.html"><img src="https://avatars1.githubusercontent.com/u/1080552?v=3&s=200" width="90" id="main-image"></a>
          <ul>
            <li><a href="https://github.com/lextoumbourou"><i class="fa fa-github fa-1x"></i></a></li>
            <li><a href="https://twitter.com/lexandstuff"><i class="fa fa-twitter fa-1x"></i></a></li>
            <li><a href="https://www.instagram.com/lextoumbourou/"><i class="fa fa-instagram fa-1x"></i></a></li>
            <li><a href="https://au.linkedin.com/in/lextoumbourou"><i class="fa fa-linkedin fa-1x"></i></a></li>
            <li><a href="https://www.youtube.com/user/5footnothingmusic"><i class="fa fa-youtube fa-1x"></i></a></li>
          </ul>
        </div>

        <h1><a href="/">Lex Toumbourou</a></h1>

        <div id="slogan">Python, data, DevOps etc</div>

      </div>

      <hr>

      <div id="content">
<div class="articles">
    <a name="article"></a>
    <article>
        <header class="title">
            <h2>
                Jul 31, 2011.
                <a href="/blog/posts/magic-ranker/" rel="bookmark">Magic Ranker</a>
            </h2>
        </div>

        <div class="article_body">
            <h3>Magic Formula</h3>
<p>I finished reading Joel Greenblatt's <a href="http://www.amazon.com/Little-Book-That-Beats-Market/dp/0471733067">The Little Book That Beats The
Market</a> a while back and thought it was excellent. Basically, it's
value investing Ã  la Warren Buffett, Benjamin Graham explained through
easy analogy. Joel does an amazing job of explaining a complex idea such
that a 12 year old could understand (or even me!). The premise, of
course, is to <em>buy great companies at bargain rates</em>. Joel describes a
formula toward the end of the book that provides a strategy for listing
these companies and buying them annually. Finally, if that wasn't simple
enough for you (how simple do you need it exactly?), Joel runs a site
<a href="MagicFormulaInvesting.com">MagicFormulaInvesting.com</a> that lists these companies and even offers
a <a href="http://http//www.formulainvesting.com/">fund</a> that manages it all for you.</p>
<p>This is awesome if you're in North America and investing in NASDAQ, but
not so if your house is upside down in Australia. Hence, <a href="http://www.magicranker.com">MagicRanker</a>.</p>
<h3>Magic Ranker</h3>
<p>[<img alt="image" src="/images/magic_ranker_home.png" />]  </p>
<p>MagicRanker, in brief, is what's in the book but for the ASX plus some
additives and artificial colours. It'd probably be easy to extend to
other markets around the world, if anyone is interested...we'll see. The
heart of it is a simple Python/Django app that scrapes Yahoo Finance and
E-trade for data, then ranks it nightly. Like so:</p>
<ol>
<li>Ranks the companies by ROE (Return On Equity) from highest to lowest
    (I eliminated those over 70% as I assumed some accounting trickery
    was going on there).</li>
<li>Ranks the companies by Price to Earnings (P/E) lowest to highest.</li>
<li>Adds those ranks together to get the total rank.</li>
</ol>
<p>I've added a couple of features like having the average ROE over a 5 /
10 year period, to get the most consistenly excellent companies (but of
course they're not necessarily the cheapist) and a debt percentage
filter. Feel free to ignore those options.</p>
<p>Lastly, I automated the whole thing with a couple of cronjobs:</p>
<ul>
<li><strong>Daily cron</strong> scrapes the web for ROE, P/E and ranks the stocks.  </li>
<li><strong>Weekly cron</strong> scraps the ASX for new companies.</li>
<li><strong>Monthly cron</strong> get historical balance sheet data (since it's only
    updated twice a year).</li>
</ul>
<p>The front end code uses <a href="http://developer.yahoo.com/yui/">YUI</a> for the nifty buttons and the
<a href="http://blueprintcss.org/">Blueprint</a> CSS framework for the grid.</p>
<h3>Disclaimer (If you lose all your money, it's not my fault)</h3>
<p>Keep in mind, I did this for fun and experimentation, not as a serious
financial tool. I'm not sure if I'll invest real money yet, might just
setup an E-trade watchlist and see how it goes. You should consider
doing that too.</p>
<p>So, here it is: <a href="http://MagicRanker.com">MagicRanker.com</a>.</p>
<p>[<img alt="image" src="/images/magic_ranker_home.png" />]: http://magicranker.com
  [<img alt="image" src="/images/magic_ranker_example.png" />]: http://magicranker.com</p>
        </div>
    </article>

<div class="twitter-link">
    <a href="https://twitter.com/lexandstuff">&#x2764;</a>
</div>

</div>
<div class="comments">
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'lextoumbouroucom'; // Required - Replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a></div>
        <hr>
      </div>

    </div>
    <script src="//yandex.st/highlightjs/7.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>